var templatingApp;!function(){"use strict";templatingApp=angular.module("templating_app",["ui.router"]),angular.module("templating_app").controller("IndexController",["$scope",function(e){e.verificaPossuiTokenApi=function(){var e=window.sessionStorage.getItem("tokenApi");return null!=e&&"undefined"!=e&&""!=e}}])}(),templatingApp.config(["$locationProvider","$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider",function(e,t,o,n,r){window.history&&window.history.pushState&&e.html5Mode({enabled:!0,requireBase:!0}).hashPrefix("!"),n.strictMode(!1),r.debugInfoEnabled(!1),t.state("login",{url:"/",templateUrl:"./views/home/login.html",controller:"LoginController"}).state("cliente",{url:"/cliente",templateUrl:"./views/cliente/cliente.html",controller:"ClienteController"}).state("endereco",{url:"/endereco",templateUrl:"./views/endereco/endereco.html",controller:"EnderecoController"}).state("logout",{url:"/",templateUrl:"./views/home/login.html",controller:"LogoutController"}),o.otherwise("/")}]),templatingApp.controller("EnderecoController",["$scope","$http",function(e,t){e.title="Endereco"}]),templatingApp.controller("ClienteController",["$scope","$http",function(t,o){var e=window.sessionStorage.getItem("tokenApi");o.defaults.headers.common.Authorization="bearer "+e,o({method:"GET",url:"/api/cliente/obtertodos/"}).then(function(e){console.log(e),t.clienteList=e.data},function(e){401==e.status&&(window.location.href="../"),console.log(e)}),t.getUser=function(e){o({method:"GET",url:"/api/Values/GetUserByID/"+parseInt(e.id)}).then(function(e){t.userModel=e.data},function(e){console.log(e)})},t.saveUser=function(){o({method:"POST",url:"/api/Values/PostUser/",data:t.userModel}).then(function(e){t.reset(),getallData()},function(e){console.log(e)})},t.updateUser=function(){o({method:"PUT",url:"/api/Values/PutUser/"+parseInt(t.userModel.id),data:t.userModel}).then(function(e){t.reset(),getallData()},function(e){console.log(e)})},t.deleteUser=function(e){confirm("You are about to delete "+e.Name+". Are you sure?")&&o({method:"DELETE",url:"/api/Values/DeleteUserByID/"+parseInt(e.id)}).then(function(e){t.reset(),getallData()},function(e){console.log(e)})},t.reset=function(){t.userModel={},t.userModel.id=0}}]),templatingApp.controller("LoginController",["$scope","$http",function(e,t){e.submit=function(){t({method:"POST",url:"/api/token/request",data:e.loginModel}).then(function(e){window.sessionStorage.setItem("tokenApi",e.data.token),console.log(e.data.token),window.location.href="/cliente"},function(e){400==e.status&&alert(e.data),console.log(e)})}}]),templatingApp.controller("LogoutController",["$scope",function(e){window.sessionStorage.setItem("tokenApi",""),window.location.href="../"}]),templatingApp.directive("navbarMenu",function(){return{restrict:"E",templateUrl:"views/shared/navbar/nav.html"}}),templatingApp.directive("sidebarMenu",function(){return{restrict:"E",templateUrl:"views/shared/sidebar/menu.html"}});